{% extends "base.html" %}
{% import "_macros.html" as macros %}
{% block title %}{{super()}} User {{user_name}}{% endblock title %}

{% block navbar %}
{{ super() }}
{% endblock navbar %}


{% block page_content %}
{{ super() }}
<div class="page-header">
    <h1>{{ user.username }}</h1>

    {% if current_user.can(Permission.FOLLOW) %}
    {% if not current_user.is_following(user) %}
    <a class="btn btn-default" href="{{ url_for('.follow', username=user.username) }}">
        Follow
    </a>
    {% else %}
        <a class="btn btn-default" href="{{ url_for('.unfollow', username=user.username) }}">
        Unfollow
    </a>
    {% endif %}
    {% endif %}
    <button type="button" class="btn btn-light">
        <a href="{{ url_for('.following', username=user.username) }}">Following</a> <span
            class="badge badge-light">{{user.following.count() - 1}}</span>
    </button>

    <button type="button" class="btn btn-light">
        <a href="{{ url_for('.followers', username=user.username) }}">Followers</a> <span
            class="badge badge-light">{{user.followers.count() - 1}}</span>
    </button>

{# messages #}
{# forum #}
{# match #}

    <table class="table">
        <tbody>
            <tr>
                <th scope="row">Name</th>
                <td>{% if user.name %}{{ user.name }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Age</th>
                <td>{% if userprofile.UserProfile.age %}{{ userprofile.UserProfile.age }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">City</th>
                <td>{% if userprofile.UserProfile.city_id %}{{ userprofile.City.city }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">State</th>
                <td>{% if userprofile.state %}{{ userprofile.state }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Bio</th>
                <td>{% if userprofile.bio %}{{ userprofile.bio }}{% endif %}</td>
            </tr>
            <tr>
            <tr>
                <th scope="row">Gender</th>
                <td>{% if userprofile.gender_id %}{{ userprofile.gender }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Day</th>
                <td>{% if userprofile.UserProfile.day %} {{userprofile.Day.day}} {% endif %}</td>
            </tr>

            {# {% if composition.post_type == PostType.THOUGHT %}
            thought{% elif composition.post_type == PostType.IDEA %}
            idea{% elif composition.post_type == PostType.RANT %}rant{% endif %} #}

            <tr>
                <th scope="row">Time of Day</th>
                <td>{% if userprofile.time_of_day_id %}{{ userprofile.time_of_day_id }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Ride or Walk</th>
                <td>{% if userprofile.ride_or_walk_id %}{{ userprofile.ride_or_walk }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Handicap</th>
                <td>{% if userprofile.handicap %}{{ userprofile.handicap }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Smoking</th>
                <td>{% if userprofile.smoking %}{{ userprofile.smoking }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Drinking</th>
                <td>{% if userprofile.drinking %}{{ userprofile.drinking }}{% endif %}</td>
            </tr>
            <tr>
                <th scope="row">Playing Type</th>
                <td>{% if userprofile.playing_type %}{{ userprofile.playing_type }}{% endif %}</td>
            </tr>
            {% if current_user.is_administrator() %}
            <tr>
                <th scope="row">Email</th>
                <td><a href="mailto:{{ user.email }}">{{ user.email }}</a></td>
            </tr>
            {% endif %}

                <th scope="row">Last seen</th>
                <td>{{ moment(user.last_seen).fromNow() }}</td>

            </tr>
        </tbody>
    </table>
</div>

{ # add user profile or avatar #}

{% if user.username == current_user.username %}
<a class="btn btn-default" href="{{ url_for('.edit_profile') }}">
    Edit Profile
</a>
{% endif %}

{# add admin edit profile #}
{% if current_user.is_administrator() %}
<a class="btn btn-danger" href="{{ url_for('.edit_profile_admin', id=user.id) }}">Edit as Admin</a>
{% endif %}


{# add pagination here later#}

<div class="mySlides fade">
    <div class="numbertext">1 / 3</div>
    <img src="./static/istockphoto-486876112-612x612.jpg" style="width:100%">
    <div class="text">Caption Text</div>
  </div>


{% endblock %}