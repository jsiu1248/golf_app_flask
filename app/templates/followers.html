{% extends 'base.html'%}
{% import "_macros.html" as macros %}

{% block page_content %}
<body style="background-color: #f2f2f2;">
<h1>Follower: {{current_user.username}}</h1>
<table class="table table">
    <thead>
      <tr>
        <th scope="col"></th>
        <th scope="col">User</th>
        <th scope="col">Since</th>
      </tr>
    </thead>
    <tbody>

    {% for f in user.followers.all()%}

    {% if f.user != user %}
        {# Single composition #}
        <tr height=75px>
            <td>
        <img class="profile-thumbnail">
            <a href="{{ url_for('.user', username=f.follower.username) }}">
            
                <img class="img-rounded profile-thumbnail" src="#">
            </td>
            {# follower is from the backref of the following db relationship from models #}
            <td><a href="{{ url_for('main.user', username=f.follower.username) }}">{{f.follower.username}}</a></td>

            <td>    {{ moment(f.timestamp).format('L') }}</td>
            </a>
        </div>

</a>


{% endif %}
    {% endfor %}

</tbody>
</table>

</body>
{% endblock %}